{"version":3,"sources":["Gracenote.js"],"names":["gracenotes","Map","set","note","_","prev","init","splice"],"mappings":"AACA,IAAMA,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AACAD,UAAU,CAACE,GAAX,CAAe,SAAf,EAA0B,UAACC,IAAD,EAAMC,CAAN;AAAA,SAAYD,IAAI,KAAK,GAAT,GAAe,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,CAAf,GAA+B,CAAC,CAA5C;AAAA,CAA1B;AACAH,UAAU,CAACE,GAAX,CAAe,UAAf,EAA2B,UAACC,IAAD,EAAME,IAAN,EAAe;AACxC,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAIH,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK,GAAzB,IAAgCA,IAAI,KAAK,GAAzC,IAAgDA,IAAI,KAAK,GAA7D,EAAkE;AAChEG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAOH,IAAP,EAAa,GAAb,CAAP;AACD,GAFD,MAEO,IAAIA,IAAI,KAAK,GAAb,EAAkB;AACvBG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAOH,IAAP,EAAa,GAAb,CAAP;AACD,GAFM,MAEA,IAAIA,IAAI,KAAK,GAAb,EAAkB;AACvBG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAOH,IAAP,EAAa,GAAb,CAAP;AACD,GAFM,MAEA,IAAIA,IAAI,KAAK,GAAb,EAAkB;AACvBG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAOH,IAAP,EAAa,IAAb,CAAP;AACD,GAFM,MAEA,IAAIA,IAAI,KAAK,IAAb,EAAmB;AACxB;AACAG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAMH,IAAN,EAAW,IAAX,CAAP;AACD,GAHM,MAGA,IAAIA,IAAI,KAAK,IAAb,EAAoB;AACzBG,IAAAA,IAAI,GAAG,CAAC,IAAD,EAAO,IAAP,CAAP;AACD,GAFM,MAEA;AACL,WAAO,CAAC,CAAR;AACD;;AAED,MAAID,IAAI,KAAK,IAAT,KAAkBF,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,IAA5C,CAAJ,EAAuD;AACrDG,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,IAAV;AACD,GAFD,MAEO,IAAID,IAAI,KAAK,IAAb,EAAmB;AACxBC,IAAAA,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAY,CAAZ,CAAP;AAEA,QAAIJ,IAAI,KAAK,IAAb,EAAmBG,IAAI,GAAG,CAAC,IAAD,EAAM,GAAN,CAAP;AACpB;;AAED,SAAOA,IAAP;AACD,CA5BD","file":"Gracenote.7aefc124.js","sourceRoot":"..","sourcesContent":["\nconst gracenotes = new Map();\ngracenotes.set('throw-d', (note,_) => note === 'D' ? ['G','D','C'] : -1);\ngracenotes.set('doubling', (note,prev) => {\n  let init = [];\n  if (note === 'G' || note === 'A' || note === 'B' || note === 'C') {\n    init = ['HG', note, 'D'];\n  } else if (note === 'D') {\n    init = ['HG', note, 'E'];\n  } else if (note === 'E') {\n    init = ['HG', note, 'F'];\n  } else if (note === 'F') {\n    init = ['HG', note, 'HG'];\n  } else if (note === 'HG') {\n    // ['HA', note, 'HA'] or ['HG','F'] ?\n    init = ['HA',note,'HA'];\n  } else if (note === 'HA')  {\n    init = ['HA', 'HG'];\n  } else {\n    return -1;\n  }\n\n  if (prev === 'HG' && (note !== 'HA' || note !== 'HG')) {\n    init[0] = 'HA';\n  } else if (prev === 'HA') {\n    init = init.splice(1);\n\n    if (note === 'HG') init = ['HG','F'];\n  }\n\n  return init\n});"]}